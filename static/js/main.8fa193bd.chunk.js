(this.webpackJsonpspotifyapi=this.webpackJsonpspotifyapi||[]).push([[0],{24:function(e,t,c){},44:function(e,t,c){"use strict";c.r(t);c(19);var s=c(1),n=c.n(s),i=c(16),a=c.n(i),l=(c(24),c(18)),r=c(17),o=c(3),d=c(0),u=function(e){return Object(d.jsx)("div",{children:Object(d.jsx)("select",{value:e.selectedValue,onChange:function(t){e.changed(t.target.value)},children:e.options.map((function(e,t){return Object(d.jsxs)("option",{value:e.id,children:[" ",e.name]},t)}))})})},f=function(e){var t=function(t){t.preventDefault(),e.clicked(t.target.id)};return Object(d.jsx)("div",{children:e.items.map((function(e,c){return Object(d.jsx)("button",{onClick:t,id:e.track.id,children:e.track.name},c)}))})},j=function(e){var t=e.album,c=e.artists,s=e.name;return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:t.images[0].url,alt:s})}),Object(d.jsxs)("div",{children:[" ",Object(d.jsx)("label",{htmlFor:s,children:s})]}),Object(d.jsx)("label",{htmlFor:c[0].name,children:c[0].name})]})},b=c(5),m=c.n(b),O=function(){var e={ClientId:"3d5af1f3c9b24cee929f85c509915129",ClientSecret:"8eb0afa92be84523890febff1298db74"},t=Object(s.useState)(""),c=Object(o.a)(t,2),n=c[0],i=c[1],a=Object(s.useState)({selectedGenre:"",listOfGenresFromAPI:[]}),b=Object(o.a)(a,2),O=b[0],h=b[1],p=Object(s.useState)({selectedPlaylist:"",listOfPlaylistsFromAPI:[]}),P=Object(o.a)(p,2),y=P[0],k=P[1],v=Object(s.useState)({selectedTrack:"",listOfTracksFromAPI:[]}),x=Object(o.a)(v,2),F=x[0],g=x[1],I=Object(s.useState)(null),A=Object(o.a)(I,2),G=A[0],S=A[1];Object(s.useEffect)((function(){m()("https://accounts.spotify.com/api/token",{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+btoa(e.ClientId+":"+e.ClientSecret)},data:"grant_type=client_credentials",method:"POST"}).then((function(e){console.log(e.data.access_token),i(e.data.access_token),m()("https://api.spotify.com/v1/browse/categories?locale=sv_US",{method:"GET",headers:{Authorization:"Bearer "+e.data.access_token}}).then((function(e){h({setGenres:O.selectedGenre,listOfGenresFromAPI:e.data.categories.items})}))}))}),[O.selectedGenre,e.ClientId,e.ClientSecret]);return Object(d.jsx)("form",{onSubmit:function(e){e.preventDefault(),m()("https://api.spotify.com/v1/playlists/".concat(y.selectedPlaylist,"/tracks?limit=10"),{method:"GET",headers:{Authorization:"Bearer "+n}}).then((function(e){g({selectedTrack:F.selectedTrack,listOfTracksFromAPI:e.data.items})}))},children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)(u,{options:O.listOfGenresFromAPI,selectedValue:O.selectedGenre,changed:function(e){h({selectedGenre:e,listOfGenresFromAPI:O.listOfGenresFromAPI}),m()("https://api.spotify.com/v1/browse/categories/".concat(e,"/playlists?limit=10"),{method:"GET",headers:{Authorization:"Bearer "+n}}).then((function(e){k({selectedPlaylist:y.selectedPlaylist,listOfPlaylistsFromAPI:e.data.playlists.items})}))}}),Object(d.jsx)(u,{options:y.listOfPlaylistsFromAPI,selectedValue:y.selectedPlaylist,changed:function(e){k({selectedPlaylist:e,listOfPlaylistsFromAPI:y.listOfPlaylistsFromAPI})}}),Object(d.jsx)("button",{type:"submit",children:"Search"}),Object(d.jsx)(f,{items:F.listOfTracksFromAPI,clicked:function(e){var t=Object(r.a)(F.listOfTracksFromAPI).filter((function(t){return t.track.id===e}));S(t[0].track)}}),G&&Object(d.jsx)(j,Object(l.a)({},G))]})})},h=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,45)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,i=t.getLCP,a=t.getTTFB;c(e),s(e),n(e),i(e),a(e)}))};a.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(O,{})}),document.getElementById("root")),h()}},[[44,1,2]]]);
//# sourceMappingURL=main.8fa193bd.chunk.js.map